---
title: "Midterm Portfolio"
subtitle: "DPS Analysis"
author: "Cody Appa"
date: "03/25/2023"
image: "WowImage.jpg"
code-fold: true
code-tools: true
description: "Analysis of Wow dps by class and fight"
---

## DPS Analysis

This project takes the top 10 dps from the game World of Warcraft from the online log database for every boss fight in the raid. I then classified the bosses by whether they were AOE, Single target, or a mix. This projects goal is to analyze all of the classes in the game by the top 10 of every fight and determine which specs are good at what in the game.

```{r}
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(scales))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(readxl)
library(scales)
DPSsheet<-read.csv("DataVizMidterm - Sheet1.csv")
```



## Top 10 ranking by Fight Type
This graph visualizes the number of times each class appears in the top 10 for every encounter type in the raid. Use this, as well as the graphs below to decide which types of DPS class to bring to each encounter.

```{r}
ggplot(DPSsheet, aes(x=Class, y=Appearance, fill = Fight.Type)) +
  geom_col()+
  labs(title = "Which DPS is Best in Each Situation", caption = "Times each class appears in the top 10 ranking per fight type", y="Number of Times in Top 10") +
  theme(plot.caption = element_text(hjust = .5)) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}
ggplot(DPSsheet, aes(x=Class, y=Appearance, fill = Fight.Type)) +
  geom_col()+
  labs(title = "Which DPS is Best in Each Situation", caption = "Times each class appears in the top 10 ranking per fight type", y="Number of Times in Top 10") +
  theme(plot.caption = element_text(hjust = .5)) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))+
  facet_wrap(~Fight.Type)
```
## AOE Fight Rankings
This graph shows the number of times each class appears in the top 10 of each boss fight in AOE heavy boss encounters.
```{r}
DPSsheet_AOE <- subset(DPSsheet, Fight.Type == "AOE")
ggplot(DPSsheet_AOE, aes(x = Class, y = Appearance, fill = Fight.Type)) +
  geom_col() +
  labs(title = "Which DPS is Best in AOE Situations",
       caption = "Times each class appears in the top 10 ranking in AOE fights",
       y = "Number of Times in Top 10") +
  theme(plot.caption = element_text(hjust = .5)) +
  theme(legend.position = "none")+
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
## Single Target Rankings
This graph shows the number of times each class appears in the top 10 of each bossfight in mixed AOE and single target boss encounters.

```{r}
DPSsheet_AOE <- subset(DPSsheet, Fight.Type == "Single Target")

ggplot(DPSsheet_AOE, aes(x = reorder(Class, -Appearance, FUN = sum), y = Appearance, fill = Fight.Type)) +
  geom_col(fill = "#709BE1") +
  labs(title = "Which DPS is Best in Single Target Situations",
       caption = "Times each class appears in the top 10 ranking in Single Target fights",
       y = "Number of Times in Top 10") +
  theme(plot.caption = element_text(hjust = .5)) +
  theme(legend.position = "none")+
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```
## Mixed Fight Rankings
This graph shows the number of times each class appears in the top 10 of each bossfight in mixed AOE and single target boss encounters.

```{r}
DPSsheet_AOE <- subset(DPSsheet, Fight.Type == "Mixed")

ggplot(DPSsheet_AOE, aes(x = Class, y = Appearance, fill = Fight.Type)) +
  geom_col(fill = "#54D16C") +
  labs(title = "Which DPS is Best in Mixed Situations",
       caption = "Times each class appears in the top 10 ranking in mixed single target and AOE fights",
       y = "Number of Times in Top 10") +
  theme(plot.caption = element_text(hjust = .5)) +
  theme(legend.position = "none")+
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
## DPS Per Boss by Class
For if you either aren't sure what fight type a boss is, or if you want to see which classes excel at specific boss fights I included the DPS values for each class per bossfight.

```{r}
ggplot(DPSsheet, aes(x = Class, y=DPS, fill =Class))+
  geom_col(position = "stack")+
  labs(title = "Top DPS by Class", caption = "DPS per class facetted by boss") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        axis.text.x.bottom = element_blank())+ 
  theme(plot.caption = element_text(hjust = .5))+
  scale_y_continuous(labels = scientific_format())+
  facet_wrap(~Boss)+
  theme(axis.title.x = element_blank())+
  scale_fill_manual(values = c("red", "#B01AAB", "orange", "#219864", "green", "#51CDCD", "#51CD92", "grey", "yellow", "blue", "purple", "brown"), drop = FALSE)

```


