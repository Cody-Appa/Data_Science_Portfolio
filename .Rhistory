theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(sf)
library(ggplot2)
library(dplyr)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(data$Rate)
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAME" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_viridis_c() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(scales))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(readxl)
library(scales)
library(rnaturalearth)
library(rnaturalearthdata)
library(sf)
library(tigris)
suppressPackageStartupMessages(library(tigris))
#STIDictionary<-read_excel("STISheet.xlsx")
#knitr::kable(STIDictionary)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
set.seed(123)
data <- data.frame(
GEOID = us_counties$GEOID,
value = runif(length(us_counties$GEOID), 0, 100)
)
us_counties_data <- left_join(us_counties, data, by = "GEOID")
ggplot() +
geom_sf(data = us_counties_data, aes(fill = value), color = "white", size = 0.1) +
scale_fill_viridis_c() +  # You can choose other color palettes
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data_contiguous <- left_join(us_counties_contiguous, data, by = "GEOID")
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = value), color = "white", size = 0.1) +
scale_fill_viridis_c() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(sf)
library(ggplot2)
library(dplyr)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(data$Rate)
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAME" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_viridis_c() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(sf)
library(ggplot2)
library(dplyr)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(data$Rate)
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAME" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_gradient() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(sf)
library(ggplot2)
library(dplyr)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
# check for missing values
sum(is.na(data$Rate))
# convert Rate column to numeric
data$Rate <- as.numeric(data$Rate)
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAME" = "County"))
# convert Rate column to numeric
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_gradient() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
View(us_counties_data)
View(us_counties_data)
library(sf)
library(ggplot2)
library(dplyr)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(data$Rate)
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAME" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_gradient() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(sf)
library(ggplot2)
library(dplyr)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(data$Rate)
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAME" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_gradient() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
View(us_counties_data)
View(us_counties_contiguous)
View(us_counties_contiguous)
View(us_counties_data_contiguous)
View(us_counties_contiguous)
write.csv(us_counties_contiguous, "my_data.csv", row.names = FALSE)
View(us_counties_contiguous)
View(us_counties_data)
reticulate::repl_python()
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
set.seed(123)
data <- data.frame(
GEOID = us_counties$GEOID,
value = runif(length(us_counties$GEOID), 0, 100)
)
us_counties_data <- left_join(us_counties, data, by = "GEOID")
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
set.seed(123)
data <- data.frame(
GEOID = us_counties$GEOID,
value = runif(length(us_counties$GEOID), 0, 100)
)
us_counties_data <- left_join(us_counties, data, by = "GEOID")
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(scales))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(readxl)
library(scales)
library(rnaturalearth)
library(rnaturalearthdata)
library(sf)
library(tigris)
suppressPackageStartupMessages(library(tigris))
#STIDictionary<-read_excel("STISheet.xlsx")
#knitr::kable(STIDictionary)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
set.seed(123)
data <- data.frame(
GEOID = us_counties$GEOID,
value = runif(length(us_counties$GEOID), 0, 100)
)
us_counties_data <- left_join(us_counties, data, by = "GEOID")
ggplot() +
geom_sf(data = us_counties_data, aes(fill = value), color = "white", size = 0.1) +
scale_fill_viridis_c() +  # You can choose other color palettes
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data_contiguous <- left_join(us_counties_contiguous, data, by = "GEOID")
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = value), color = "white", size = 0.1) +
scale_fill_viridis_c() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
df <- df %>% filter(!is.na(Rate))  # drop rows with missing data
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by FIPS code
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = "GEOID")
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("https://docs.google.com/spreadsheets/d/18ZuUk1OHhUVe4EB2HbDwO1MzMLn5mISQUawjnQ1_xGE/export?format=csv", stringsAsFactors = FALSE)
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAME" = "county"))
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = cases_per_100k), color = "white", size = 0.1) +
scale_fill_viridis_c() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAME" = "county"))
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_viridis_c() +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAME" = "county"))
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAME" = "county"))
us_counties_data_contiguous$Rate <- as.numeric(us_counties_data_contiguous$Rate)
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
View(us_counties_contiguous)
View(us_counties_data_contiguous)
reticulate::repl_python()
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(scales))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(readxl)
library(scales)
library(rnaturalearth)
library(rnaturalearthdata)
library(sf)
library(tigris)
suppressPackageStartupMessages(library(tigris))
#STIDictionary<-read_excel("STISheet.xlsx")
#knitr::kable(STIDictionary)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAME" = "county"))
us_counties_data_contiguous$Rate <- as.numeric(us_counties_data_contiguous$Rate)
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
View(us_counties_data)
View(ChlamydiaData)
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAMELSAD" = "county"))
us_counties_data_contiguous$Rate <- as.numeric(us_counties_data_contiguous$Rate)
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
View(us_counties_data)
View(us_counties_data_contiguous)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAMELSAD" = "county"))
us_counties_data_contiguous$Rate <- as.numeric(us_counties_data_contiguous$Rate)
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAMELSAD" = "county"))
us_counties_data_contiguous$Rate <- as.numeric(us_counties_data_contiguous$Rate)
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
class(Rate)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
class(Rate)
library(tigris)
library(ggplot2)
library(dplyr)
# Load the dataset
df <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", stringsAsFactors = FALSE)
# Add a county column that matches the format of the NAME column in the shapefile
df$county <- paste(df$county_name, "County", sep = " ")
# Load the county shapefile
us_counties <- counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf")
us_counties_contiguous <- us_counties %>%
filter(!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78")))  # remove Alaska, Hawaii, and other territories
# Join the dataset to the county shapefile by county name
us_counties_data_contiguous <- left_join(us_counties_contiguous, df, by = c("NAMELSAD" = "county"))
us_counties_data_contiguous$Rate <- as.numeric(us_counties_data_contiguous$Rate)
# Plot the data using a choropleth map
ggplot() +
geom_sf(data = us_counties_data_contiguous, aes(fill = Rate), color = "white", size = 0.1) +
scale_fill_continuous(na.value = "grey70", low = "white", high = "red", name = "Rate") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank())
reticulate::repl_python()
