!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County"), relationship = "many-to-many")
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Total infection rate by chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data2 <- read.csv("Gonorrhea - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data2$Rate <- as.numeric(gsub(",", "", data2$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data2, by = c("NAMELSAD" = "County"), relationship = "many-to-many")
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'purple', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Gonorrhea Infection Rate by County 2021", caption = "Total infection rate by gonorrhea by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data2 <- read.csv("Gonorrhea - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data2$Rate <- as.numeric(gsub(",", "", data2$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data2, by = c("NAMELSAD" = "County"), relationship = "many-to-many")
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Gonorrhea Infection Rate by County 2021", caption = "Total infection rate by gonorrhea by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data3 <- read.csv("Primary and Secondary Syphilis - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data3$Rate <- as.numeric(gsub(",", "", data3$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data3, by = c("NAMELSAD" = "County"), relationship = "many-to-many")
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Primary and Secondary Syphilis Infection Rate by County 2021", caption = "Total infection rate by primary and secondary Syphilis by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(scales))
suppressPackageStartupMessages(library(rnaturalearthdata))
suppressPackageStartupMessages(library(rnaturalearth))
suppressPackageStartupMessages(library(sf))
suppressPackageStartupMessages(library(tigris))
library(tidyverse)
library(dplyr)
library(ggplot2)
library(readxl)
library(scales)
library(rnaturalearth)
library(rnaturalearthdata)
library(sf)
library(tigris)
suppressPackageStartupMessages(library(tigris))
STIDictionary<-read_excel("STISheet.xlsx")
knitr::kable(STIDictionary)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv")
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County"), relationship = "many-to-many")
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Total infection rate by chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Total infection rate by chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
# Read in data
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
# Load county data
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
# Filter out non-contiguous states
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
# Add a new column to both data frames that combines County and State information
us_counties_contiguous <- us_counties_contiguous %>%
mutate(county_state = paste0(tolower(NAME), tolower(STATEFP)))
data <- data %>%
mutate(county_state = paste0(tolower(County), tolower(State)))
# Merge data by county_state
us_counties_data <- left_join(us_counties_contiguous, data, by = "county_state")
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Total infection rate by chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Total infection rate by chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
View(us_counties_data)
View(us_counties)
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County", "State_Name" = "State"))
View(data)
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Total infection rate by chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data2 <- read.csv("Gonorrhea - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data2$Rate <- as.numeric(gsub(",", "", data2$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data2, by = c("NAMELSAD" = "County", "STATE_NAME = State"), relationship = "many-to-many")
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data2 <- read.csv("Gonorrhea - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data2$Rate <- as.numeric(gsub(",", "", data2$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data2, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Gonorrhea Infection Rate by County 2021", caption = "Total infection rate by gonorrhea by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data3 <- read.csv("Primary and Secondary Syphilis - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data3$Rate <- as.numeric(gsub(",", "", data3$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data2, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Primary and Secondary Syphilis Infection Rate by County 2021", caption = "Total infection rate by primary and secondary Syphilis by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data3 <- read.csv("Primary and Secondary Syphilis - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data3$Rate <- as.numeric(gsub(",", "", data3$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data3, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Primary and Secondary Syphilis Infection Rate by County 2021", caption = "Total infection rate by primary and secondary Syphilis by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data3 <- read.csv("Primary and Secondary Syphilis - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data3$Rate <- as.numeric(gsub(",", "", data3$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data3, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", STATE_NAME, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Primary and Secondary Syphilis Infection Rate by County 2021", caption = "Figure 3: Total infection rate of primary and secondary Syphilis by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data2 <- read.csv("Gonorrhea - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data2$Rate <- as.numeric(gsub(",", "", data2$Rate), na.rm = TRUE)
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data2, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", STATE_NAME, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Gonorrhea Infection Rate by County 2021", caption = "Figure 2: Total infection rate of gonorrhea by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
library(sf)
library(ggplot2)
library(dplyr)
library(ggiraph)
data <- read.csv("Chlamydia - Rates of Reported Cases by County United States 2021 .csv", header = TRUE)
data$Rate <- as.numeric(gsub(",", "", data$Rate))
invisible(suppressWarnings({
us_counties <- tigris::counties(cb = TRUE, resolution = "20m", year = 2020, class = "sf", progress = FALSE)
}))
us_counties_contiguous <- us_counties %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
us_counties_data <- left_join(us_counties, data, by = c("NAMELSAD" = "County", "STATE_NAME" = "State"))
us_counties_data$Rate <- as.numeric(us_counties_data$Rate)
us_counties_data_contiguous <- us_counties_data %>%
filter(
!(STATEFP %in% c("02", "15", "60", "66", "69", "72", "78"))
)
my_colors <- c('blue', 'red', 'orange', 'yellow')
gg <- ggplot() +
geom_sf_interactive(data = us_counties_data_contiguous, aes(fill = Rate, tooltip = paste(NAMELSAD, "<br>", STATE_NAME, "<br>", "Rate:", Rate)), color = "grey", size = 0.1) +
scale_fill_gradientn(colors = my_colors, na.value = "grey70", name = "Rate") +
labs(title = "Chlamydia Infection Rate by County 2021", caption = "Figure 1: Total infection rate of chlamydia by county") +
theme_minimal() +
theme(axis.text = element_blank(),
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.caption = element_text(hjust = .5, size = 8, margin = margin(t = 10, r = 10)))
girafe(code = print(gg))
